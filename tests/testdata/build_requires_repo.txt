# Test that build fails without KRUST_REPO or --image

-- Cargo.toml --
[package]
name = "test-app"
version = "0.1.0"
edition = "2021"

[dependencies]
-- src/main.rs --
fn main() {
    println!("Hello, world!");
}

# Build without KRUST_REPO or --image should fail
! exec ./krust build --no-push .
stderr 'Either --image or KRUST_REPO must be set'
